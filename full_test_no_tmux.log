Docker requires sudo. Re-running with sudo...
[1m[0;36m
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘   Secure EV Charging System - Automated Demo/Grading Script      â•‘
â•‘                     All Scenarios Sequential Run                  â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
[0m
[0;36m[INFO][0m Stopping running containers...
[0;36m[INFO][0m Starting core services (cauth, sp, ho, fake-cauth)...
#1 [internal] load local bake definitions
#1 reading from stdin 2.13kB done
#1 DONE 0.0s
#2 [sp internal] load build definition from Dockerfile
#2 transferring dockerfile: 652B done
#2 DONE 0.0s
#3 [fake-cauth internal] load build definition from Dockerfile
#3 transferring dockerfile: 523B done
#3 DONE 0.0s
#4 [cauth internal] load build definition from Dockerfile
#4 transferring dockerfile: 756B done
#4 DONE 0.0s
#5 [ho internal] load build definition from Dockerfile
#5 transferring dockerfile: 346B done
#5 DONE 0.0s
#6 [cauth internal] load metadata for docker.io/library/eclipse-temurin:17-jdk
#6 DONE 0.5s
#7 [ho internal] load metadata for docker.io/library/maven:3.9-eclipse-temurin-17
#7 DONE 0.5s
#8 [fake-cauth internal] load .dockerignore
#8 transferring context: 2B done
#8 DONE 0.0s
#9 [ho internal] load metadata for docker.io/library/eclipse-temurin:17-jre
#9 DONE 0.5s
#10 [cauth internal] load .dockerignore
#10 transferring context: 91B done
#10 DONE 0.0s
#11 [sp internal] load .dockerignore
#11 transferring context: 91B done
#11 DONE 0.0s
#12 [ho internal] load .dockerignore
#12 transferring context: 2B done
#12 DONE 0.0s
#13 [ho build 1/5] FROM docker.io/library/maven:3.9-eclipse-temurin-17@sha256:f7ae6cafd12a38da76a1a105744522387b32caacba5e23674a652133607d007c
#13 DONE 0.0s
#14 [ho stage-1 1/3] FROM docker.io/library/eclipse-temurin:17-jre@sha256:fc0c46c43f873754d8651948b94da946449aee0c0262420a86c4d18e84bc3c49
#14 DONE 0.0s
#15 [cauth 1/5] FROM docker.io/library/eclipse-temurin:17-jdk@sha256:7995efb7f9276fc16433aa8e2856a06082cd09f7f6603579db2534937ccc6778
#15 resolve docker.io/library/eclipse-temurin:17-jdk@sha256:7995efb7f9276fc16433aa8e2856a06082cd09f7f6603579db2534937ccc6778 done
#15 DONE 0.0s
#16 [fake-cauth internal] load build context
#16 transferring context: 281B done
#16 DONE 0.0s
#17 [sp internal] load build context
#17 transferring context: 528B done
#17 DONE 0.0s
#18 [ho internal] load build context
#18 transferring context: 305B done
#18 DONE 0.0s
#19 [fake-cauth 4/5] COPY . .
#19 CACHED
#20 [fake-cauth 5/5] RUN mvn clean package -DskipTests
#20 CACHED
#21 [sp 4/5] COPY . .
#21 CACHED
#22 [sp 5/5] RUN mvn clean package -DskipTests
#22 CACHED
#23 [cauth internal] load build context
#23 transferring context: 528B done
#23 DONE 0.0s
#24 [ho stage-1 2/3] WORKDIR /app
#24 CACHED
#25 [ho build 4/5] COPY src ./src
#25 CACHED
#26 [ho build 2/5] WORKDIR /app
#26 CACHED
#27 [ho build 5/5] RUN mvn clean package -DskipTests
#27 CACHED
#28 [ho build 3/5] COPY pom.xml .
#28 CACHED
#29 [ho stage-1 3/3] COPY --from=build /app/target/ho-1.0-SNAPSHOT.jar app.jar
#29 CACHED
#30 [cauth 3/5] WORKDIR /app
#30 CACHED
#31 [cauth 4/5] COPY . .
#31 CACHED
#32 [cauth 2/5] RUN apt-get update &&     apt-get install -y maven &&     rm -rf /var/lib/apt/lists/*
#32 CACHED
#33 [cauth 5/5] RUN mvn clean package -DskipTests
#33 CACHED
#34 [fake-cauth] exporting to image
#34 exporting layers done
#34 writing image sha256:687504b6c5bbc3c5d199fb0e5e4da54ad33c1e3d8fe90bc87a4c02c2f6d4ef7e done
#34 naming to docker.io/library/secure_software_assignment-fake-cauth done
#34 DONE 0.0s
#35 [sp] exporting to image
#35 exporting layers done
#35 writing image sha256:1d5357c1298df927b7ec439e2336c6eb4b876004389ba5f65810bf56a52e532b done
#35 naming to docker.io/library/secure_software_assignment-sp done
#35 DONE 0.0s
#36 [cauth] exporting to image
#36 exporting layers done
#36 writing image sha256:7992378ef54c6a99958f91f693a1d7cf6437e8177afe52289e4a7342b5861407 done
#36 naming to docker.io/library/secure_software_assignment-cauth done
#36 DONE 0.0s
#37 [ho] exporting to image
#37 exporting layers done
#37 writing image sha256:7679171f703b5cf2de65147e9d0eaadfd79cf486ff54a5cf1eff0aaf11ecc6b0 done
#37 naming to docker.io/library/secure_software_assignment-ho done
#37 DONE 0.0s
#38 [fake-cauth] resolving provenance for metadata file
#38 DONE 0.0s
#39 [sp] resolving provenance for metadata file
#39 DONE 0.0s
#40 [cauth] resolving provenance for metadata file
#40 DONE 0.0s
#41 [ho] resolving provenance for metadata file
#41 DONE 0.0s
 secure_software_assignment-cauth  Built
 secure_software_assignment-sp  Built
 secure_software_assignment-ho  Built
 secure_software_assignment-fake-cauth  Built
 Network secure_software_assignment_java-network  Creating
 Network secure_software_assignment_java-network  Created
 Container fake-cauth-container  Creating
 Container cauth-container  Creating
 Container fake-cauth-container  Created
 Container cauth-container  Created
 Container sp-container  Creating
 Container sp-container  Created
 Container ho-container  Creating
 Container ho-container  Created
 Container fake-cauth-container  Starting
 Container cauth-container  Starting
 Container fake-cauth-container  Started
 Container cauth-container  Started
 Container sp-container  Starting
 Container sp-container  Started
 Container ho-container  Starting
 Container ho-container  Started
[0;32m[SUCCESS][0m Services started
[0;36m[INFO][0m Waiting for services to be ready...
[0;32m[SUCCESS][0m All core containers are running
[0;36m[INFO][0m Waiting for TLS initialization and first availability...
[0;32m[SUCCESS][0m Services ready - availability detected
[0;36m[INFO][0m Running complete test suite (12 scenarios)...

[1m[0;34mâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”[0m
[1m[0;34mScenario: P1_HONEST[0m
[0;34mExpected: CO enrolls, gets tokens, discovers, reserves, and pays successfully[0m
[1m[0;34mâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”[0m

[0;36m[INFO][0m Running CO container...
[0;36mCO Output (last 20 lines):[0m
[CO][INFO][P1_HONEST] [M3.4-VERIFY] PAYMENT FINALITY ACHIEVED
[CO][INFO][P1_HONEST] [M3.4-VERIFY] â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
[CO][INFO][P1_HONEST] [M3.4-VERIFY] âœ“ SP signature verified (cryptographic proof)
[CO][INFO][P1_HONEST] [M3.4-VERIFY] âœ“ Consistency validated (no substitution)
[CO][INFO][P1_HONEST] [M3.4-VERIFY] âœ“ Immutable receipt stored (audit trail)
[CO][INFO][P1_HONEST] [M3.4-VERIFY] âœ“ Non-repudiation guaranteed (SP cannot deny)
[CO][INFO][P1_HONEST] [M3.4-VERIFY] âœ“ Dispute resolution enabled (third-party verification)
[CO][INFO][P1_HONEST] âœ“âœ“âœ“ PAYMENT FINALITY ESTABLISHED âœ“âœ“...
[CO][INFO][P1_HONEST] ...
[CO][INFO][P1_HONEST] ...
[CO][INFO][P1_HONEST] ...
[CO][INFO][P1_HONEST] â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
[CO][INFO][P1_HONEST] 
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
[CO][INFO][P1_HONEST]    RESERVATION HANDSHAKE COMPLETE
[CO][INFO][P1_HONEST]    Verdict: OK
[CO][INFO][P1_HONEST]    Non-repudiable proof stored: 979d87bb-25a3-4eb4-b8f1-e060ddf82033
[CO][INFO][P1_HONEST] â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
[CO][INFO][P1_HONEST] 
âœ“âœ“âœ“ CO SERVICE COMPLETED SUCCESSFULLY âœ“âœ“...
[0;32m[SUCCESS][0m Scenario P1_HONEST: [0;32mPASS[0m

[1m[0;34mâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”[0m
[1m[0;34mScenario: M4.1_TOKEN_TAMPER[0m
[0;34mExpected: HO detects and rejects tampered token chain[0m
[1m[0;34mâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”[0m

[0;36m[INFO][0m Running CO container...
[0;36mCO Output (last 20 lines):[0m
[CO][INFO][M4.1_TOKEN_TAMPER] [M4.1] Tampering token[0] byte[0]
[CO][INFO][M4.1_TOKEN_TAMPER] [M4.1] TOKEN TAMPERING ENABLED: flipped byte 0 of token index 0
[CO][INFO][M4.1_TOKEN_TAMPER] [M4.1] Expect HO rejection (adjacency/anchor check failure)
[CO][INFO][M4.1_TOKEN_TAMPER] â†’ Sending TAMPERED pay request to HO at ho:8445
[CO][INFO][M4.1_TOKEN_TAMPER] â† HO pay response:
[CO][INFO][M4.1_TOKEN_TAMPER] {
  "reason": "security_violation",
  "code": "token_tampering_detected",
  "message": "adjacency check failed at i=0 - possible token tampering",
  "status": "error"
}
[CO][INFO][M4.1_TOKEN_TAMPER] [M4.1] âœ“ Expected rejection received from HO: security_violation
[CO][INFO][M4.1_TOKEN_TAMPER] 
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
[CO][INFO][M4.1_TOKEN_TAMPER]    RESERVATION HANDSHAKE COMPLETE
[CO][INFO][M4.1_TOKEN_TAMPER]    Verdict: OK
[CO][INFO][M4.1_TOKEN_TAMPER]    Non-repudiable proof stored: 5efabd25-927b-4dac-94e6-44fbed977294
[CO][INFO][M4.1_TOKEN_TAMPER] â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
[CO][INFO][M4.1_TOKEN_TAMPER] 
âœ“âœ“âœ“ CO SERVICE COMPLETED SUCCESSFULLY âœ“âœ“...
[0;32m[SUCCESS][0m Scenario M4.1_TOKEN_TAMPER: [0;32mPASS[0m
[0;36m[INFO][0m Restarting HO with HO_REPLAY_TEST_MODE=false...
 Container ho-container  Stopping
 Container ho-container  Stopped
 Container cauth-container  Running
 Container sp-container  Running
 Container ho-container  Starting
 Container ho-container  Started
